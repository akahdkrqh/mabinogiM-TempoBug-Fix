<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mabinogi Mobile Tempo Bug Fixer</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div id="tutorial-overlay" class="is-hidden">
      <div class="tutorial-content">
        <div class="tutorial-step tutorial-step-1">
          <span>1</span>
          <p>MML@로 시작하는 전체 코드 혹은 개별 코드를 붙여넣으세요.</p>
        </div>
        <div class="tutorial-arrow"></div>
        <div class="tutorial-step tutorial-step-2">
          <span>2</span>
          <p>버그 수정 버튼을 눌러주세요.</p>
        </div>
      </div>
      <div class="tutorial-exit-message">화면 아무 곳이나 클릭하면 종료됩니다.</div>
    </div>

    <div id="notice-overlay" class="is-hidden">
      <div class="notice-content">
        <h2>⚠️ 주의사항</h2>
        <ul>
          <li>템포 버그를 '임시'로 수정하며, 완벽한 해결책이 아닙니다.</li>
          <li>문제가 전혀 해결되지 않을 수 있습니다</li>
          <li>버그 수정으로 인해 음 씹힘, 박자 밀림 현상 등이 생기거나 심해질 수 있습니다.</li>
          <li>생성된 코드는 사용 전 반드시 테스트해 주세요.</li>
        </ul>
        <p class="notice-tip">
          수정 결과 글자수가 너무 많이 늘어나서 인게임에서 사용할 수 없다면, 같은 템포 구간에서 음표수가 많이 차이나는 트랙끼리 섞어서 음표수의 차이를 줄인 뒤
          다시 시도해볼 수 있습니다.<br />
          <span class="notice-example"
            >예시) 화음2는 'l1.rrrrr'과 같은 휴식 상태고 멜로디는 열심히 연주하는 경우, 화음2가 멜로디를 절반정도 연주하도록 수정 후 시도</span
          >
        </p>
        <div class="tutorial-exit-message">화면 아무 곳이나 클릭하면 창이 닫힙니다.</div>
      </div>
    </div>

    <main class="container">
      <header>
        <h1>Mabinogi Mobile Tempo Bug Fixer</h1>
        <p>마비노기 모바일 템포 버그를 임시로 수정하기 위한 도구입니다.</p>
      </header>

      <section>
        <div class="main-input-wrapper">
          <label for="mml-input">MML코드</label>
          <textarea
            id="mml-input"
            placeholder="MML@...; 형식의 코드를 여기에 붙여넣으세요.&#10;&#10;MML@멜로디,화음1,화음2;&#10;MML@화음3,화음4,화음5;&#10;위와 같이 여러개를 동시에 입력하셔도 됩니다."
          ></textarea>
        </div>
      </section>

      <section>
        <div id="track-inputs-container" class="track-inputs-grid">
          <!-- Track inputs will be generated by JS -->
        </div>
      </section>

      <section>
        <div class="main-input-wrapper">
          <label for="log-output">로그</label>
          <textarea id="log-output" placeholder="처리 과정이 여기에 표시됩니다." readonly></textarea>
        </div>
      </section>

      <section id="result-section">
        <div class="main-input-wrapper">
          <label for="result-output">최종 결과</label>
          <textarea id="result-output" placeholder="수정된 MML 코드가 여기에 표시됩니다." readonly></textarea>
        </div>
      </section>
    </main>

    <div class="floating-controls">
      <button id="bug-fix-button">버그 수정</button>
      <button id="final-copy-button" class="is-hidden">코드 복사</button>
      <button id="reset-button" class="button-secondary">초기화</button>
    </div>

    <div class="floating-notice-button-wrapper">
      <button id="notice-button" title="주의사항 보기">⚠️</button>
    </div>

    <div class="floating-help-button-wrapper">
      <button id="help-button" title="도움말 다시 보기">?</button>
    </div>

    <script src="./tempoBugFix.js" defer></script>
  </body>
</html>


